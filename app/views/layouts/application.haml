!!!
%html
  %head
    = display_meta_tags site: 'Mint',
                        keywords: %w(mint mint-lang packages),
                        description: 'A refreshing programming language for the modern web.',
                        canonical: request.path,
                        charset: 'utf-8'
    = csrf_meta_tags

    %meta{ content: 'width=device-width; initial-scale=1.0; maximum-scale=1.0;',
           name: 'viewport' }

    = stylesheet_link_tag '//fonts.googleapis.com/css?family=Open+Sans:400,600,700|Source+Code+Pro:400,600|M+PLUS+Rounded+1c:700&display=swap'
    = stylesheet_link_tag 'https://unpkg.com/ionicons@4.5.10-0/dist/css/ionicons.min.css'
    = stylesheet_link_tag 'application', media: 'all'

    = stylesheet_link_tag 'https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/atom-one-dark.min.css'
    = javascript_include_tag '//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.16.2/build/highlight.min.js'

  %body
    .nav
      = link_to root_path, class: :nav__brand do
        = render partial: 'shared/logo', locals: { size: 20 }

      = link_to 'https://sandbox.mint-lang.com',
                class: :nav__item,
                target: '_blank',
                active: :exact do
        = octicon "terminal"
        %span Try

      .nav__separator

      = link_to '',
                class: :nav__item,
                active: :exact do
        = octicon "cloud-download"
        %span Install

      .nav__separator

      = link_to 'https://guide.mint-lang.com',
                target: '_blank',
                class: :nav__item,
                active: :exact do
        = octicon "book"
        %span Learn

      .nav__separator

      = active_link_to packages_path, class: :nav__item do
        = octicon "archive"
        %span Packages

      .nav__separator

      = link_to '', class: :nav__item, active: :exact do
        = octicon "mark-github"
        %span Github

    - if breadcrumbs.length > 1
      .breadcrumbs
        .breadcrumbs__wrap<
          = render_breadcrumbs separator: '<i class="ion-ios-arrow-forward"></i>'

    %article
      = yield


    .footer
      .footer__content
        %span
          = link_to '@gdotdesign', 'https://github.com/gdotdesign', target: '_blank'

    = javascript_include_tag 'application'

    :javascript
      hljs.registerLanguage('mint',() => {
        const MINT_CONTAINS = []
        const MINT_KEYWORDS = 'component store module fun state property next if else sequence parallel style record connect enum routes route'

         var XML_IDENT_RE = '[A-Za-z0-9\\._:-]+';
         var TAG_INTERNALS = {
          endsWithParent: true,
          illegal: /</,
          relevance: 0,
          contains: [
            {
              className: 'attr',
              begin: XML_IDENT_RE,
              relevance: 0
            },
            {
              begin: /=\s*/,
              relevance: 0,
              contains: [
                {
                  endsParent: true,
                  className: 'tag',
                  begin: '\\{',
                  end: '\\}',
                  contains: MINT_CONTAINS
                },
                {
                  className: 'string',
                  endsParent: true,
                  variants: [
                    {begin: /"/, end: /"/},
                    {begin: /'/, end: /'/}
                  ]
                }
              ]
            }
          ]
        };

        MINT_CONTAINS.push(
          ...[
            {
              className: 'string',
              begin: '"',
              end: '"'
            },
            {
              className: 'type',
              begin: "\\b[A-Z][A-Za-z0-9]+",
              ends: "[^A-Za-z0-9]"
            },
            {
              className: 'tag',
              begin: '<{', end: '}>',
              contains: MINT_CONTAINS
            },
            {
              className: 'tag',
              begin: '</?', end: '/?>',
              contains: [
                {
                  className: 'name', begin: /[^\/><\s]+/, relevance: 0
                },
                TAG_INTERNALS
              ]
            },
            {
              keywords: MINT_KEYWORDS,
              begin: 'style\\s+[a-zA-Z0-9-]+\\s*{',
              end: '}',
              contains: [
                {
                  begin: '(?=[-a-zA-Z0-9]+\\s*:\\s*[^;]+)',
                  end: ';',
                  contains: [
                    {
                      begin: '[-a-zA-Z0-9]+\\s*',
                      className: 'string',
                      excludeEnd: true,
                      end: ':',
                    },
                    {
                      begin: '[^;]+',
                      end: ';',
                      excludeEnd: true,
                      endsParent: true,
                    },
                  ]
                }
              ]
            }
         ])

        return {
          k: MINT_KEYWORDS,
          contains: MINT_CONTAINS
        }
      })

      hljs.configure({languages: ['mint']})
      hljs.initHighlightingOnLoad();

